<html>
  <head>
    <meta charset="utf-8">
    <title>D3.js Calendar Heatmap</title>
    <link rel="stylesheet" type="text/css" href="calendar-heatmap.css">
  </head>
  <body>
    <div class="container"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="calendar-heatmap.js"></script>
    <script type="text/javascript">
      var now = moment().endOf('day').toDate();
      var yearAgo = moment().startOf('day').subtract(1, 'year').toDate();
      var chartData = d3.time.days(yearAgo, now).map(function (dateElement) {
        return {
          date: dateElement,
          count: (dateElement.getDay() !== 0 && dateElement.getDay() !== 6) ? Math.floor(Math.random() * 60) : Math.floor(Math.random() * 10)
        };
      });
      var eventData = [
        {
          "key_as_string": "2015-06-22T00:00:00.000-07:00",
          "key": 1434956400000,
          "doc_count": 286
        },
        {
          "key_as_string": "2015-06-23T00:00:00.000-07:00",
          "key": 1435042800000,
          "doc_count": 220
        },
        {
          "key_as_string": "2015-06-24T00:00:00.000-07:00",
          "key": 1435129200000,
          "doc_count": 7
        },
        {
          "key_as_string": "2015-06-25T00:00:00.000-07:00",
          "key": 1435215600000,
          "doc_count": 5
        },
        {
          "key_as_string": "2015-06-29T00:00:00.000-07:00",
          "key": 1435561200000,
          "doc_count": 46
        },
        {
          "key_as_string": "2015-06-30T00:00:00.000-07:00",
          "key": 1435647600000,
          "doc_count": 29
        },
        {
          "key_as_string": "2015-07-01T00:00:00.000-07:00",
          "key": 1435734000000,
          "doc_count": 76
        },
        {
          "key_as_string": "2015-07-02T00:00:00.000-07:00",
          "key": 1435820400000,
          "doc_count": 8
        },
        {
          "key_as_string": "2015-07-03T00:00:00.000-07:00",
          "key": 1435906800000,
          "doc_count": 6
        },
        {
          "key_as_string": "2015-07-04T00:00:00.000-07:00",
          "key": 1435993200000,
          "doc_count": 11
        },
        {
          "key_as_string": "2015-07-05T00:00:00.000-07:00",
          "key": 1436079600000,
          "doc_count": 6
        },
        {
          "key_as_string": "2015-07-06T00:00:00.000-07:00",
          "key": 1436166000000,
          "doc_count": 19
        },
        {
          "key_as_string": "2015-07-07T00:00:00.000-07:00",
          "key": 1436252400000,
          "doc_count": 41
        },
        {
          "key_as_string": "2015-07-08T00:00:00.000-07:00",
          "key": 1436338800000,
          "doc_count": 53
        },
        {
          "key_as_string": "2015-07-09T00:00:00.000-07:00",
          "key": 1436425200000,
          "doc_count": 7
        },
        {
          "key_as_string": "2015-07-10T00:00:00.000-07:00",
          "key": 1436511600000,
          "doc_count": 63
        },
        {
          "key_as_string": "2015-07-11T00:00:00.000-07:00",
          "key": 1436598000000,
          "doc_count": 12
        },
        {
          "key_as_string": "2015-07-12T00:00:00.000-07:00",
          "key": 1436684400000,
          "doc_count": 31
        },
        {
          "key_as_string": "2015-07-13T00:00:00.000-07:00",
          "key": 1436770800000,
          "doc_count": 30
        },
        {
          "key_as_string": "2015-07-14T00:00:00.000-07:00",
          "key": 1436857200000,
          "doc_count": 96
        },
        {
          "key_as_string": "2015-07-15T00:00:00.000-07:00",
          "key": 1436943600000,
          "doc_count": 42
        },
        {
          "key_as_string": "2015-07-16T00:00:00.000-07:00",
          "key": 1437030000000,
          "doc_count": 11
        },
        {
          "key_as_string": "2015-07-17T00:00:00.000-07:00",
          "key": 1437116400000,
          "doc_count": 15
        },
        {
          "key_as_string": "2015-07-18T00:00:00.000-07:00",
          "key": 1437202800000,
          "doc_count": 9
        },
        {
          "key_as_string": "2015-07-19T00:00:00.000-07:00",
          "key": 1437289200000,
          "doc_count": 5
        },
        {
          "key_as_string": "2015-07-20T00:00:00.000-07:00",
          "key": 1437375600000,
          "doc_count": 117
        },
        {
          "key_as_string": "2015-07-21T00:00:00.000-07:00",
          "key": 1437462000000,
          "doc_count": 39
        },
        {
          "key_as_string": "2015-07-22T00:00:00.000-07:00",
          "key": 1437548400000,
          "doc_count": 164
        },
        {
          "key_as_string": "2015-07-23T00:00:00.000-07:00",
          "key": 1437634800000,
          "doc_count": 273
        },
        {
          "key_as_string": "2015-07-24T00:00:00.000-07:00",
          "key": 1437721200000,
          "doc_count": 13
        },
        {
          "key_as_string": "2015-07-25T00:00:00.000-07:00",
          "key": 1437807600000,
          "doc_count": 31
        },
        {
          "key_as_string": "2015-07-26T00:00:00.000-07:00",
          "key": 1437894000000,
          "doc_count": 60
        },
        {
          "key_as_string": "2015-07-27T00:00:00.000-07:00",
          "key": 1437980400000,
          "doc_count": 156
        },
        {
          "key_as_string": "2015-07-28T00:00:00.000-07:00",
          "key": 1438066800000,
          "doc_count": 64
        },
        {
          "key_as_string": "2015-07-29T00:00:00.000-07:00",
          "key": 1438153200000,
          "doc_count": 69
        },
        {
          "key_as_string": "2015-07-30T00:00:00.000-07:00",
          "key": 1438239600000,
          "doc_count": 15
        },
        {
          "key_as_string": "2015-07-31T00:00:00.000-07:00",
          "key": 1438326000000,
          "doc_count": 46
        },
        {
          "key_as_string": "2015-08-01T00:00:00.000-07:00",
          "key": 1438412400000,
          "doc_count": 146
        },
        {
          "key_as_string": "2015-08-02T00:00:00.000-07:00",
          "key": 1438498800000,
          "doc_count": 105
        },
        {
          "key_as_string": "2015-08-03T00:00:00.000-07:00",
          "key": 1438585200000,
          "doc_count": 286
        },
        {
          "key_as_string": "2015-08-04T00:00:00.000-07:00",
          "key": 1438671600000,
          "doc_count": 54
        },
        {
          "key_as_string": "2015-08-05T00:00:00.000-07:00",
          "key": 1438758000000,
          "doc_count": 415
        },
        {
          "key_as_string": "2015-08-06T00:00:00.000-07:00",
          "key": 1438844400000,
          "doc_count": 1105
        },
        {
          "key_as_string": "2015-08-07T00:00:00.000-07:00",
          "key": 1438930800000,
          "doc_count": 1063
        },
        {
          "key_as_string": "2015-08-08T00:00:00.000-07:00",
          "key": 1439017200000,
          "doc_count": 1444
        },
        {
          "key_as_string": "2015-08-09T00:00:00.000-07:00",
          "key": 1439103600000,
          "doc_count": 1167
        },
        {
          "key_as_string": "2015-08-10T00:00:00.000-07:00",
          "key": 1439190000000,
          "doc_count": 1404
        },
        {
          "key_as_string": "2015-08-11T00:00:00.000-07:00",
          "key": 1439276400000,
          "doc_count": 674
        },
        {
          "key_as_string": "2015-08-12T00:00:00.000-07:00",
          "key": 1439362800000,
          "doc_count": 610
        },
        {
          "key_as_string": "2015-08-13T00:00:00.000-07:00",
          "key": 1439449200000,
          "doc_count": 608
        },
        {
          "key_as_string": "2015-08-14T00:00:00.000-07:00",
          "key": 1439535600000,
          "doc_count": 671
        },
        {
          "key_as_string": "2015-08-15T00:00:00.000-07:00",
          "key": 1439622000000,
          "doc_count": 831
        },
        {
          "key_as_string": "2015-08-16T00:00:00.000-07:00",
          "key": 1439708400000,
          "doc_count": 1478
        },
        {
          "key_as_string": "2015-08-17T00:00:00.000-07:00",
          "key": 1439794800000,
          "doc_count": 479
        },
        {
          "key_as_string": "2015-08-18T00:00:00.000-07:00",
          "key": 1439881200000,
          "doc_count": 274
        },
        {
          "key_as_string": "2015-08-19T00:00:00.000-07:00",
          "key": 1439967600000,
          "doc_count": 286
        },
        {
          "key_as_string": "2015-08-20T00:00:00.000-07:00",
          "key": 1440054000000,
          "doc_count": 315
        },
        {
          "key_as_string": "2015-08-21T00:00:00.000-07:00",
          "key": 1440140400000,
          "doc_count": 288
        },
        {
          "key_as_string": "2015-08-22T00:00:00.000-07:00",
          "key": 1440226800000,
          "doc_count": 182
        },
        {
          "key_as_string": "2015-08-23T00:00:00.000-07:00",
          "key": 1440313200000,
          "doc_count": 134
        },
        {
          "key_as_string": "2015-08-24T00:00:00.000-07:00",
          "key": 1440399600000,
          "doc_count": 342
        },
        {
          "key_as_string": "2015-08-25T00:00:00.000-07:00",
          "key": 1440486000000,
          "doc_count": 346
        },
        {
          "key_as_string": "2015-08-26T00:00:00.000-07:00",
          "key": 1440572400000,
          "doc_count": 253
        },
        {
          "key_as_string": "2015-08-27T00:00:00.000-07:00",
          "key": 1440658800000,
          "doc_count": 353
        },
        {
          "key_as_string": "2015-08-28T00:00:00.000-07:00",
          "key": 1440745200000,
          "doc_count": 130
        },
        {
          "key_as_string": "2015-08-29T00:00:00.000-07:00",
          "key": 1440831600000,
          "doc_count": 119
        },
        {
          "key_as_string": "2015-08-30T00:00:00.000-07:00",
          "key": 1440918000000,
          "doc_count": 119
        },
        {
          "key_as_string": "2015-08-31T00:00:00.000-07:00",
          "key": 1441004400000,
          "doc_count": 229
        },
        {
          "key_as_string": "2015-09-01T00:00:00.000-07:00",
          "key": 1441090800000,
          "doc_count": 1095
        },
        {
          "key_as_string": "2015-09-02T00:00:00.000-07:00",
          "key": 1441177200000,
          "doc_count": 353
        },
        {
          "key_as_string": "2015-09-03T00:00:00.000-07:00",
          "key": 1441263600000,
          "doc_count": 334
        },
        {
          "key_as_string": "2015-09-04T00:00:00.000-07:00",
          "key": 1441350000000,
          "doc_count": 96
        },
        {
          "key_as_string": "2015-09-05T00:00:00.000-07:00",
          "key": 1441436400000,
          "doc_count": 76
        },
        {
          "key_as_string": "2015-09-06T00:00:00.000-07:00",
          "key": 1441522800000,
          "doc_count": 141
        },
        {
          "key_as_string": "2015-09-07T00:00:00.000-07:00",
          "key": 1441609200000,
          "doc_count": 137
        },
        {
          "key_as_string": "2015-09-08T00:00:00.000-07:00",
          "key": 1441695600000,
          "doc_count": 284
        },
        {
          "key_as_string": "2015-09-09T00:00:00.000-07:00",
          "key": 1441782000000,
          "doc_count": 362
        },
        {
          "key_as_string": "2015-09-10T00:00:00.000-07:00",
          "key": 1441868400000,
          "doc_count": 200
        },
        {
          "key_as_string": "2015-09-11T00:00:00.000-07:00",
          "key": 1441954800000,
          "doc_count": 421
        },
        {
          "key_as_string": "2015-09-12T00:00:00.000-07:00",
          "key": 1442041200000,
          "doc_count": 75
        },
        {
          "key_as_string": "2015-09-13T00:00:00.000-07:00",
          "key": 1442127600000,
          "doc_count": 191
        },
        {
          "key_as_string": "2015-09-14T00:00:00.000-07:00",
          "key": 1442214000000,
          "doc_count": 231
        },
        {
          "key_as_string": "2015-09-15T00:00:00.000-07:00",
          "key": 1442300400000,
          "doc_count": 205
        },
        {
          "key_as_string": "2015-09-16T00:00:00.000-07:00",
          "key": 1442386800000,
          "doc_count": 147
        },
        {
          "key_as_string": "2015-09-17T00:00:00.000-07:00",
          "key": 1442473200000,
          "doc_count": 419
        },
        {
          "key_as_string": "2015-09-18T00:00:00.000-07:00",
          "key": 1442559600000,
          "doc_count": 57
        },
        {
          "key_as_string": "2015-09-19T00:00:00.000-07:00",
          "key": 1442646000000,
          "doc_count": 29
        },
        {
          "key_as_string": "2015-09-20T00:00:00.000-07:00",
          "key": 1442732400000,
          "doc_count": 32
        },
        {
          "key_as_string": "2015-09-21T00:00:00.000-07:00",
          "key": 1442818800000,
          "doc_count": 546
        },
        {
          "key_as_string": "2015-09-22T00:00:00.000-07:00",
          "key": 1442905200000,
          "doc_count": 735
        },
        {
          "key_as_string": "2015-09-23T00:00:00.000-07:00",
          "key": 1442991600000,
          "doc_count": 447
        },
        {
          "key_as_string": "2015-09-24T00:00:00.000-07:00",
          "key": 1443078000000,
          "doc_count": 539
        },
        {
          "key_as_string": "2015-09-25T00:00:00.000-07:00",
          "key": 1443164400000,
          "doc_count": 224
        },
        {
          "key_as_string": "2015-09-26T00:00:00.000-07:00",
          "key": 1443250800000,
          "doc_count": 126
        },
        {
          "key_as_string": "2015-09-27T00:00:00.000-07:00",
          "key": 1443337200000,
          "doc_count": 167
        },
        {
          "key_as_string": "2015-09-28T00:00:00.000-07:00",
          "key": 1443423600000,
          "doc_count": 1345
        },
        {
          "key_as_string": "2015-09-29T00:00:00.000-07:00",
          "key": 1443510000000,
          "doc_count": 1544
        },
        {
          "key_as_string": "2015-09-30T00:00:00.000-07:00",
          "key": 1443596400000,
          "doc_count": 903
        },
        {
          "key_as_string": "2015-10-01T00:00:00.000-07:00",
          "key": 1443682800000,
          "doc_count": 9816
        },
        {
          "key_as_string": "2015-10-02T00:00:00.000-07:00",
          "key": 1443769200000,
          "doc_count": 3669
        },
        {
          "key_as_string": "2015-10-03T00:00:00.000-07:00",
          "key": 1443855600000,
          "doc_count": 1894
        },
        {
          "key_as_string": "2015-10-04T00:00:00.000-07:00",
          "key": 1443942000000,
          "doc_count": 2352
        },
        {
          "key_as_string": "2015-10-05T00:00:00.000-07:00",
          "key": 1444028400000,
          "doc_count": 2243
        },
        {
          "key_as_string": "2015-10-06T00:00:00.000-07:00",
          "key": 1444114800000,
          "doc_count": 1987
        },
        {
          "key_as_string": "2015-10-07T00:00:00.000-07:00",
          "key": 1444201200000,
          "doc_count": 4832
        },
        {
          "key_as_string": "2015-10-08T00:00:00.000-07:00",
          "key": 1444287600000,
          "doc_count": 9226
        },
        {
          "key_as_string": "2015-10-09T00:00:00.000-07:00",
          "key": 1444374000000,
          "doc_count": 4590
        },
        {
          "key_as_string": "2015-10-10T00:00:00.000-07:00",
          "key": 1444460400000,
          "doc_count": 2181
        },
        {
          "key_as_string": "2015-10-11T00:00:00.000-07:00",
          "key": 1444546800000,
          "doc_count": 2951
        },
        {
          "key_as_string": "2015-10-12T00:00:00.000-07:00",
          "key": 1444633200000,
          "doc_count": 2806
        },
        {
          "key_as_string": "2015-10-13T00:00:00.000-07:00",
          "key": 1444719600000,
          "doc_count": 2487
        },
        {
          "key_as_string": "2015-10-14T00:00:00.000-07:00",
          "key": 1444806000000,
          "doc_count": 3217
        },
        {
          "key_as_string": "2015-10-15T00:00:00.000-07:00",
          "key": 1444892400000,
          "doc_count": 2407
        },
        {
          "key_as_string": "2015-10-16T00:00:00.000-07:00",
          "key": 1444978800000,
          "doc_count": 1345
        },
        {
          "key_as_string": "2015-10-17T00:00:00.000-07:00",
          "key": 1445065200000,
          "doc_count": 773
        },
        {
          "key_as_string": "2015-10-18T00:00:00.000-07:00",
          "key": 1445151600000,
          "doc_count": 1069
        },
        {
          "key_as_string": "2015-10-19T00:00:00.000-07:00",
          "key": 1445238000000,
          "doc_count": 1668
        },
        {
          "key_as_string": "2015-10-20T00:00:00.000-07:00",
          "key": 1445324400000,
          "doc_count": 1696
        },
        {
          "key_as_string": "2015-10-21T00:00:00.000-07:00",
          "key": 1445410800000,
          "doc_count": 3091
        },
        {
          "key_as_string": "2015-10-22T00:00:00.000-07:00",
          "key": 1445497200000,
          "doc_count": 3974
        },
        {
          "key_as_string": "2015-10-23T00:00:00.000-07:00",
          "key": 1445583600000,
          "doc_count": 1371
        },
        {
          "key_as_string": "2015-10-24T00:00:00.000-07:00",
          "key": 1445670000000,
          "doc_count": 917
        },
        {
          "key_as_string": "2015-10-25T00:00:00.000-07:00",
          "key": 1445756400000,
          "doc_count": 643
        },
        {
          "key_as_string": "2015-10-26T00:00:00.000-07:00",
          "key": 1445842800000,
          "doc_count": 1012
        },
        {
          "key_as_string": "2015-10-27T00:00:00.000-07:00",
          "key": 1445929200000,
          "doc_count": 846
        },
        {
          "key_as_string": "2015-10-28T00:00:00.000-07:00",
          "key": 1446015600000,
          "doc_count": 868
        },
        {
          "key_as_string": "2015-10-29T00:00:00.000-07:00",
          "key": 1446102000000,
          "doc_count": 895
        },
        {
          "key_as_string": "2015-10-30T00:00:00.000-07:00",
          "key": 1446188400000,
          "doc_count": 387
        },
        {
          "key_as_string": "2015-10-31T00:00:00.000-07:00",
          "key": 1446274800000,
          "doc_count": 372
        },
        {
          "key_as_string": "2015-11-01T00:00:00.000-07:00",
          "key": 1446361200000,
          "doc_count": 563
        },
        {
          "key_as_string": "2015-11-02T00:00:00.000-08:00",
          "key": 1446451200000,
          "doc_count": 562
        },
        {
          "key_as_string": "2015-11-03T00:00:00.000-08:00",
          "key": 1446537600000,
          "doc_count": 501
        },
        {
          "key_as_string": "2015-11-04T00:00:00.000-08:00",
          "key": 1446624000000,
          "doc_count": 638
        },
        {
          "key_as_string": "2015-11-05T00:00:00.000-08:00",
          "key": 1446710400000,
          "doc_count": 1079
        },
        {
          "key_as_string": "2015-11-06T00:00:00.000-08:00",
          "key": 1446796800000,
          "doc_count": 383
        },
        {
          "key_as_string": "2015-11-07T00:00:00.000-08:00",
          "key": 1446883200000,
          "doc_count": 259
        },
        {
          "key_as_string": "2015-11-08T00:00:00.000-08:00",
          "key": 1446969600000,
          "doc_count": 569
        },
        {
          "key_as_string": "2015-11-09T00:00:00.000-08:00",
          "key": 1447056000000,
          "doc_count": 354
        },
        {
          "key_as_string": "2015-11-10T00:00:00.000-08:00",
          "key": 1447142400000,
          "doc_count": 998
        },
        {
          "key_as_string": "2015-11-11T00:00:00.000-08:00",
          "key": 1447228800000,
          "doc_count": 7426
        },
        {
          "key_as_string": "2015-11-12T00:00:00.000-08:00",
          "key": 1447315200000,
          "doc_count": 1193
        },
        {
          "key_as_string": "2015-11-13T00:00:00.000-08:00",
          "key": 1447401600000,
          "doc_count": 312
        },
        {
          "key_as_string": "2015-11-14T00:00:00.000-08:00",
          "key": 1447488000000,
          "doc_count": 185
        },
        {
          "key_as_string": "2015-11-15T00:00:00.000-08:00",
          "key": 1447574400000,
          "doc_count": 202
        },
        {
          "key_as_string": "2015-11-16T00:00:00.000-08:00",
          "key": 1447660800000,
          "doc_count": 435
        },
        {
          "key_as_string": "2015-11-17T00:00:00.000-08:00",
          "key": 1447747200000,
          "doc_count": 314
        },
        {
          "key_as_string": "2015-11-18T00:00:00.000-08:00",
          "key": 1447833600000,
          "doc_count": 173
        },
        {
          "key_as_string": "2015-11-19T00:00:00.000-08:00",
          "key": 1447920000000,
          "doc_count": 271
        },
        {
          "key_as_string": "2015-11-20T00:00:00.000-08:00",
          "key": 1448006400000,
          "doc_count": 169
        },
        {
          "key_as_string": "2015-11-21T00:00:00.000-08:00",
          "key": 1448092800000,
          "doc_count": 135
        },
        {
          "key_as_string": "2015-11-22T00:00:00.000-08:00",
          "key": 1448179200000,
          "doc_count": 66
        },
        {
          "key_as_string": "2015-11-23T00:00:00.000-08:00",
          "key": 1448265600000,
          "doc_count": 332
        },
        {
          "key_as_string": "2015-11-24T00:00:00.000-08:00",
          "key": 1448352000000,
          "doc_count": 418
        },
        {
          "key_as_string": "2015-11-25T00:00:00.000-08:00",
          "key": 1448438400000,
          "doc_count": 206
        },
        {
          "key_as_string": "2015-11-26T00:00:00.000-08:00",
          "key": 1448524800000,
          "doc_count": 41
        },
        {
          "key_as_string": "2015-11-27T00:00:00.000-08:00",
          "key": 1448611200000,
          "doc_count": 25
        },
        {
          "key_as_string": "2015-11-28T00:00:00.000-08:00",
          "key": 1448697600000,
          "doc_count": 94
        },
        {
          "key_as_string": "2015-11-29T00:00:00.000-08:00",
          "key": 1448784000000,
          "doc_count": 76
        },
        {
          "key_as_string": "2015-11-30T00:00:00.000-08:00",
          "key": 1448870400000,
          "doc_count": 307
        },
        {
          "key_as_string": "2015-12-01T00:00:00.000-08:00",
          "key": 1448956800000,
          "doc_count": 174
        },
        {
          "key_as_string": "2015-12-02T00:00:00.000-08:00",
          "key": 1449043200000,
          "doc_count": 182
        },
        {
          "key_as_string": "2015-12-03T00:00:00.000-08:00",
          "key": 1449129600000,
          "doc_count": 156
        },
        {
          "key_as_string": "2015-12-04T00:00:00.000-08:00",
          "key": 1449216000000,
          "doc_count": 173
        },
        {
          "key_as_string": "2015-12-05T00:00:00.000-08:00",
          "key": 1449302400000,
          "doc_count": 167
        },
        {
          "key_as_string": "2015-12-06T00:00:00.000-08:00",
          "key": 1449388800000,
          "doc_count": 250
        },
        {
          "key_as_string": "2015-12-07T00:00:00.000-08:00",
          "key": 1449475200000,
          "doc_count": 109
        },
        {
          "key_as_string": "2015-12-08T00:00:00.000-08:00",
          "key": 1449561600000,
          "doc_count": 116
        },
        {
          "key_as_string": "2015-12-09T00:00:00.000-08:00",
          "key": 1449648000000,
          "doc_count": 162
        },
        {
          "key_as_string": "2015-12-10T00:00:00.000-08:00",
          "key": 1449734400000,
          "doc_count": 171
        },
        {
          "key_as_string": "2015-12-11T00:00:00.000-08:00",
          "key": 1449820800000,
          "doc_count": 69
        },
        {
          "key_as_string": "2015-12-12T00:00:00.000-08:00",
          "key": 1449907200000,
          "doc_count": 149
        },
        {
          "key_as_string": "2015-12-13T00:00:00.000-08:00",
          "key": 1449993600000,
          "doc_count": 87
        },
        {
          "key_as_string": "2015-12-14T00:00:00.000-08:00",
          "key": 1450080000000,
          "doc_count": 402
        },
        {
          "key_as_string": "2015-12-15T00:00:00.000-08:00",
          "key": 1450166400000,
          "doc_count": 109
        },
        {
          "key_as_string": "2015-12-16T00:00:00.000-08:00",
          "key": 1450252800000,
          "doc_count": 117
        },
        {
          "key_as_string": "2015-12-17T00:00:00.000-08:00",
          "key": 1450339200000,
          "doc_count": 77
        },
        {
          "key_as_string": "2015-12-18T00:00:00.000-08:00",
          "key": 1450425600000,
          "doc_count": 89
        },
        {
          "key_as_string": "2015-12-19T00:00:00.000-08:00",
          "key": 1450512000000,
          "doc_count": 62
        },
        {
          "key_as_string": "2015-12-20T00:00:00.000-08:00",
          "key": 1450598400000,
          "doc_count": 76
        },
        {
          "key_as_string": "2015-12-21T00:00:00.000-08:00",
          "key": 1450684800000,
          "doc_count": 143
        },
        {
          "key_as_string": "2015-12-22T00:00:00.000-08:00",
          "key": 1450771200000,
          "doc_count": 10
        },
        {
          "key_as_string": "2015-12-23T00:00:00.000-08:00",
          "key": 1450857600000,
          "doc_count": 88
        },
        {
          "key_as_string": "2015-12-24T00:00:00.000-08:00",
          "key": 1450944000000,
          "doc_count": 13
        },
        {
          "key_as_string": "2015-12-25T00:00:00.000-08:00",
          "key": 1451030400000,
          "doc_count": 13
        },
        {
          "key_as_string": "2015-12-26T00:00:00.000-08:00",
          "key": 1451116800000,
          "doc_count": 16
        },
        {
          "key_as_string": "2015-12-27T00:00:00.000-08:00",
          "key": 1451203200000,
          "doc_count": 23
        },
        {
          "key_as_string": "2015-12-28T00:00:00.000-08:00",
          "key": 1451289600000,
          "doc_count": 29
        },
        {
          "key_as_string": "2015-12-29T00:00:00.000-08:00",
          "key": 1451376000000,
          "doc_count": 75
        },
        {
          "key_as_string": "2015-12-30T00:00:00.000-08:00",
          "key": 1451462400000,
          "doc_count": 18
        },
        {
          "key_as_string": "2015-12-31T00:00:00.000-08:00",
          "key": 1451548800000,
          "doc_count": 14
        },
        {
          "key_as_string": "2016-01-01T00:00:00.000-08:00",
          "key": 1451635200000,
          "doc_count": 25
        },
        {
          "key_as_string": "2016-01-02T00:00:00.000-08:00",
          "key": 1451721600000,
          "doc_count": 119
        },
        {
          "key_as_string": "2016-01-03T00:00:00.000-08:00",
          "key": 1451808000000,
          "doc_count": 106
        },
        {
          "key_as_string": "2016-01-04T00:00:00.000-08:00",
          "key": 1451894400000,
          "doc_count": 584
        },
        {
          "key_as_string": "2016-01-05T00:00:00.000-08:00",
          "key": 1451980800000,
          "doc_count": 850
        },
        {
          "key_as_string": "2016-01-06T00:00:00.000-08:00",
          "key": 1452067200000,
          "doc_count": 2028
        },
        {
          "key_as_string": "2016-01-07T00:00:00.000-08:00",
          "key": 1452153600000,
          "doc_count": 970
        },
        {
          "key_as_string": "2016-01-08T00:00:00.000-08:00",
          "key": 1452240000000,
          "doc_count": 476
        },
        {
          "key_as_string": "2016-01-09T00:00:00.000-08:00",
          "key": 1452326400000,
          "doc_count": 413
        },
        {
          "key_as_string": "2016-01-10T00:00:00.000-08:00",
          "key": 1452412800000,
          "doc_count": 1136
        },
        {
          "key_as_string": "2016-01-11T00:00:00.000-08:00",
          "key": 1452499200000,
          "doc_count": 1319
        },
        {
          "key_as_string": "2016-01-12T00:00:00.000-08:00",
          "key": 1452585600000,
          "doc_count": 869
        },
        {
          "key_as_string": "2016-01-13T00:00:00.000-08:00",
          "key": 1452672000000,
          "doc_count": 1525
        },
        {
          "key_as_string": "2016-01-14T00:00:00.000-08:00",
          "key": 1452758400000,
          "doc_count": 543
        },
        {
          "key_as_string": "2016-01-15T00:00:00.000-08:00",
          "key": 1452844800000,
          "doc_count": 421
        },
        {
          "key_as_string": "2016-01-16T00:00:00.000-08:00",
          "key": 1452931200000,
          "doc_count": 176
        },
        {
          "key_as_string": "2016-01-17T00:00:00.000-08:00",
          "key": 1453017600000,
          "doc_count": 360
        },
        {
          "key_as_string": "2016-01-18T00:00:00.000-08:00",
          "key": 1453104000000,
          "doc_count": 871
        },
        {
          "key_as_string": "2016-01-19T00:00:00.000-08:00",
          "key": 1453190400000,
          "doc_count": 929
        },
        {
          "key_as_string": "2016-01-20T00:00:00.000-08:00",
          "key": 1453276800000,
          "doc_count": 1107
        },
        {
          "key_as_string": "2016-01-21T00:00:00.000-08:00",
          "key": 1453363200000,
          "doc_count": 776
        },
        {
          "key_as_string": "2016-01-22T00:00:00.000-08:00",
          "key": 1453449600000,
          "doc_count": 1473
        },
        {
          "key_as_string": "2016-01-23T00:00:00.000-08:00",
          "key": 1453536000000,
          "doc_count": 393
        },
        {
          "key_as_string": "2016-01-24T00:00:00.000-08:00",
          "key": 1453622400000,
          "doc_count": 634
        },
        {
          "key_as_string": "2016-01-25T00:00:00.000-08:00",
          "key": 1453708800000,
          "doc_count": 897
        },
        {
          "key_as_string": "2016-01-26T00:00:00.000-08:00",
          "key": 1453795200000,
          "doc_count": 1112
        },
        {
          "key_as_string": "2016-01-27T00:00:00.000-08:00",
          "key": 1453881600000,
          "doc_count": 366
        },
        {
          "key_as_string": "2016-01-28T00:00:00.000-08:00",
          "key": 1453968000000,
          "doc_count": 532
        },
        {
          "key_as_string": "2016-01-29T00:00:00.000-08:00",
          "key": 1454054400000,
          "doc_count": 361
        },
        {
          "key_as_string": "2016-01-30T00:00:00.000-08:00",
          "key": 1454140800000,
          "doc_count": 524
        },
        {
          "key_as_string": "2016-01-31T00:00:00.000-08:00",
          "key": 1454227200000,
          "doc_count": 436
        },
        {
          "key_as_string": "2016-02-01T00:00:00.000-08:00",
          "key": 1454313600000,
          "doc_count": 631
        },
        {
          "key_as_string": "2016-02-02T00:00:00.000-08:00",
          "key": 1454400000000,
          "doc_count": 397
        },
        {
          "key_as_string": "2016-02-03T00:00:00.000-08:00",
          "key": 1454486400000,
          "doc_count": 733
        },
        {
          "key_as_string": "2016-02-04T00:00:00.000-08:00",
          "key": 1454572800000,
          "doc_count": 531
        },
        {
          "key_as_string": "2016-02-05T00:00:00.000-08:00",
          "key": 1454659200000,
          "doc_count": 187
        },
        {
          "key_as_string": "2016-02-06T00:00:00.000-08:00",
          "key": 1454745600000,
          "doc_count": 68
        },
        {
          "key_as_string": "2016-02-07T00:00:00.000-08:00",
          "key": 1454832000000,
          "doc_count": 289
        },
        {
          "key_as_string": "2016-02-08T00:00:00.000-08:00",
          "key": 1454918400000,
          "doc_count": 313
        },
        {
          "key_as_string": "2016-02-09T00:00:00.000-08:00",
          "key": 1455004800000,
          "doc_count": 1281
        },
        {
          "key_as_string": "2016-02-10T00:00:00.000-08:00",
          "key": 1455091200000,
          "doc_count": 861
        },
        {
          "key_as_string": "2016-02-11T00:00:00.000-08:00",
          "key": 1455177600000,
          "doc_count": 715
        },
        {
          "key_as_string": "2016-02-12T00:00:00.000-08:00",
          "key": 1455264000000,
          "doc_count": 177
        },
        {
          "key_as_string": "2016-02-13T00:00:00.000-08:00",
          "key": 1455350400000,
          "doc_count": 222
        },
        {
          "key_as_string": "2016-02-14T00:00:00.000-08:00",
          "key": 1455436800000,
          "doc_count": 197
        },
        {
          "key_as_string": "2016-02-15T00:00:00.000-08:00",
          "key": 1455523200000,
          "doc_count": 177
        },
        {
          "key_as_string": "2016-02-16T00:00:00.000-08:00",
          "key": 1455609600000,
          "doc_count": 393
        },
        {
          "key_as_string": "2016-02-17T00:00:00.000-08:00",
          "key": 1455696000000,
          "doc_count": 2144
        },
        {
          "key_as_string": "2016-02-18T00:00:00.000-08:00",
          "key": 1455782400000,
          "doc_count": 1104
        },
        {
          "key_as_string": "2016-02-19T00:00:00.000-08:00",
          "key": 1455868800000,
          "doc_count": 434
        },
        {
          "key_as_string": "2016-02-20T00:00:00.000-08:00",
          "key": 1455955200000,
          "doc_count": 313
        },
        {
          "key_as_string": "2016-02-21T00:00:00.000-08:00",
          "key": 1456041600000,
          "doc_count": 274
        },
        {
          "key_as_string": "2016-02-22T00:00:00.000-08:00",
          "key": 1456128000000,
          "doc_count": 354
        },
        {
          "key_as_string": "2016-02-23T00:00:00.000-08:00",
          "key": 1456214400000,
          "doc_count": 260
        },
        {
          "key_as_string": "2016-02-24T00:00:00.000-08:00",
          "key": 1456300800000,
          "doc_count": 451
        },
        {
          "key_as_string": "2016-02-25T00:00:00.000-08:00",
          "key": 1456387200000,
          "doc_count": 252
        },
        {
          "key_as_string": "2016-02-26T00:00:00.000-08:00",
          "key": 1456473600000,
          "doc_count": 125
        },
        {
          "key_as_string": "2016-02-27T00:00:00.000-08:00",
          "key": 1456560000000,
          "doc_count": 84
        },
        {
          "key_as_string": "2016-02-28T00:00:00.000-08:00",
          "key": 1456646400000,
          "doc_count": 123
        },
        {
          "key_as_string": "2016-02-29T00:00:00.000-08:00",
          "key": 1456732800000,
          "doc_count": 562
        },
        {
          "key_as_string": "2016-03-01T00:00:00.000-08:00",
          "key": 1456819200000,
          "doc_count": 258
        },
        {
          "key_as_string": "2016-03-02T00:00:00.000-08:00",
          "key": 1456905600000,
          "doc_count": 258
        },
        {
          "key_as_string": "2016-03-03T00:00:00.000-08:00",
          "key": 1456992000000,
          "doc_count": 232
        },
        {
          "key_as_string": "2016-03-04T00:00:00.000-08:00",
          "key": 1457078400000,
          "doc_count": 326
        },
        {
          "key_as_string": "2016-03-05T00:00:00.000-08:00",
          "key": 1457164800000,
          "doc_count": 49
        },
        {
          "key_as_string": "2016-03-06T00:00:00.000-08:00",
          "key": 1457251200000,
          "doc_count": 69
        },
        {
          "key_as_string": "2016-03-07T00:00:00.000-08:00",
          "key": 1457337600000,
          "doc_count": 159
        },
        {
          "key_as_string": "2016-03-08T00:00:00.000-08:00",
          "key": 1457424000000,
          "doc_count": 350
        },
        {
          "key_as_string": "2016-03-09T00:00:00.000-08:00",
          "key": 1457510400000,
          "doc_count": 142
        },
        {
          "key_as_string": "2016-03-10T00:00:00.000-08:00",
          "key": 1457596800000,
          "doc_count": 133
        },
        {
          "key_as_string": "2016-03-11T00:00:00.000-08:00",
          "key": 1457683200000,
          "doc_count": 310
        },
        {
          "key_as_string": "2016-03-12T00:00:00.000-08:00",
          "key": 1457769600000,
          "doc_count": 90
        },
        {
          "key_as_string": "2016-03-13T00:00:00.000-08:00",
          "key": 1457856000000,
          "doc_count": 100
        },
        {
          "key_as_string": "2016-03-14T00:00:00.000-07:00",
          "key": 1457938800000,
          "doc_count": 153
        },
        {
          "key_as_string": "2016-03-15T00:00:00.000-07:00",
          "key": 1458025200000,
          "doc_count": 64
        },
        {
          "key_as_string": "2016-03-16T00:00:00.000-07:00",
          "key": 1458111600000,
          "doc_count": 167
        },
        {
          "key_as_string": "2016-03-17T00:00:00.000-07:00",
          "key": 1458198000000,
          "doc_count": 136
        },
        {
          "key_as_string": "2016-03-18T00:00:00.000-07:00",
          "key": 1458284400000,
          "doc_count": 96
        },
        {
          "key_as_string": "2016-03-19T00:00:00.000-07:00",
          "key": 1458370800000,
          "doc_count": 11
        },
        {
          "key_as_string": "2016-03-20T00:00:00.000-07:00",
          "key": 1458457200000,
          "doc_count": 64
        },
        {
          "key_as_string": "2016-03-21T00:00:00.000-07:00",
          "key": 1458543600000,
          "doc_count": 52
        }
      ];
      window.eventData = eventData;
      eventData = eventData.map(function (d) {
        d.date = new Date(d.key);
        d.count = d.doc_count;
        return d;
      });


      var heatmap = calendarHeatmap()
                      .data(eventData)
                      .selector('.container')
                      .tooltipEnabled(true)
                      .colorRange(['#f4f7f7', '#79a8a9'])
                      .onClick(function (data) {
                        console.log('data', data);
                      });
      heatmap();  // render the chart
    </script>
  </body>
</html>
